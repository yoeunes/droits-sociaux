{% assign direction = site.language_data[site.lang].direction | default: 'ltr' %}

<footer class="bg-footer mt-auto">
  <!-- Main Footer -->
  <div class="container-custom py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-8">
      <!-- Brand Column -->
      <div class="lg:col-span-1">
        <a href="{% tl home %}" class="flex items-center gap-3 mb-6">
          <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center">
            <img src="{{ '/assets/img/logo.png' | relative_url }}" alt="Logo" class="h-7 w-7 object-contain">
          </div>
          <div>
            <span class="block font-bold text-white text-sm">{% t site_name %}</span>
            <span class="block text-xs text-footer-text">{% t site_tagline %}</span>
          </div>
        </a>
        <p class="text-footer-text text-sm leading-relaxed mb-6">
          {% t footer.about_text %}
        </p>
        <!-- Trust badges -->
        <div class="flex flex-wrap gap-2">
          <span class="inline-flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-lg text-xs text-footer-text">
            <i class="fa-solid fa-shield-halved text-safe"></i>
            {% t footer.badge_secure %}
          </span>
          <span class="inline-flex items-center gap-1.5 px-3 py-1.5 bg-white/5 rounded-lg text-xs text-footer-text">
            <i class="fa-solid fa-circle-check text-safe"></i>
            {% t footer.badge_free %}
          </span>
        </div>
      </div>

      <!-- Simulators Column -->
      <div>
        <h4 class="footer-heading flex items-center gap-2">
          <i class="fa-solid fa-calculator text-primary"></i>
          {% t footer.simulators %}
        </h4>
        <ul class="space-y-3">
          <li>
            <a href="{% tl simulateurs/cnss %}" class="footer-link text-sm flex items-center gap-2 group">
              <span class="w-1.5 h-1.5 rounded-full bg-cnss group-hover:scale-125 transition-transform"></span>
              {% t nav.pension_cnss %}
            </a>
          </li>
          <li>
            <a href="{% tl simulateurs/cmr %}" class="footer-link text-sm flex items-center gap-2 group">
              <span class="w-1.5 h-1.5 rounded-full bg-cmr group-hover:scale-125 transition-transform"></span>
              {% t nav.pension_cmr %}
            </a>
          </li>
          <li>
            <a href="{% tl simulateurs/amo-cnss %}" class="footer-link text-sm flex items-center gap-2 group">
              <span class="w-1.5 h-1.5 rounded-full bg-cnss group-hover:scale-125 transition-transform"></span>
              {% t nav.amo_cnss %}
            </a>
          </li>
          <li>
            <a href="{% tl simulateurs/amo-cnops %}" class="footer-link text-sm flex items-center gap-2 group">
              <span class="w-1.5 h-1.5 rounded-full bg-cnops group-hover:scale-125 transition-transform"></span>
              {% t nav.amo_cnops %}
            </a>
          </li>
        </ul>
      </div>

      <!-- Resources Column -->
      <div>
        <h4 class="footer-heading flex items-center gap-2">
          <i class="fa-solid fa-book-open text-secondary"></i>
          {% t footer.resources %}
        </h4>
        <ul class="space-y-3">
          <li>
            <a href="{% tl actualites-cnss %}" class="footer-link text-sm">{% t nav.news_cnss %}</a>
          </li>
          <li>
            <a href="{% tl actualites-cmr %}" class="footer-link text-sm">{% t nav.news_cmr %}</a>
          </li>
          <li>
            <a href="{% tl actualites-cnops %}" class="footer-link text-sm">{% t nav.news_cnops %}</a>
          </li>
          <li>
            <a href="{% tl about %}" class="footer-link text-sm">{% t nav.about %}</a>
          </li>
          <li>
            <a href="{% tl contact %}" class="footer-link text-sm">{% t nav.contact %}</a>
          </li>
        </ul>
      </div>

      <!-- Legal & Social Column -->
      <div>
        <h4 class="footer-heading flex items-center gap-2">
          <i class="fa-solid fa-scale-balanced text-accent"></i>
          {% t footer.legal %}
        </h4>
        <ul class="space-y-3 mb-8">
          <li>
            <a href="{% tl conditions %}" class="footer-link text-sm">{% t footer.terms %}</a>
          </li>
          <li>
            <a href="{% tl privacy %}" class="footer-link text-sm">{% t footer.privacy %}</a>
          </li>
        </ul>

        <h4 class="footer-heading flex items-center gap-2">
          <i class="fa-solid fa-share-nodes text-trust"></i>
          {% t footer.follow_us %}
        </h4>
        <div class="flex items-center gap-3 {% if direction == 'rtl' %}flex-row-reverse justify-end{% endif %}">
          <a href="#" target="_blank" rel="noopener" class="w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-footer-text hover:bg-blue-600 hover:text-white transition-all">
            <i class="fa-brands fa-facebook-f"></i>
          </a>
          <a href="#" target="_blank" rel="noopener" class="w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-footer-text hover:bg-red-600 hover:text-white transition-all">
            <i class="fa-brands fa-youtube"></i>
          </a>
          <a href="#" target="_blank" rel="noopener" class="w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center text-footer-text hover:bg-green-600 hover:text-white transition-all">
            <i class="fa-brands fa-whatsapp"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-footer-border">
    <div class="container-custom py-6">
      <div class="flex flex-col md:flex-row items-center justify-between gap-4 text-sm text-footer-text">
        <p>{% t footer.copyright %}</p>
        <div class="flex items-center gap-6">
          <a href="{% tl conditions %}" class="hover:text-white transition-colors">{% t footer.terms %}</a>
          <a href="{% tl privacy %}" class="hover:text-white transition-colors">{% t footer.privacy %}</a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Cookie Banner -->
<div id="cookie-banner" class="cookie-banner hidden">
  <div class="container-custom">
    <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
      <div class="flex items-start gap-3">
        <div class="flex-shrink-0 w-10 h-10 bg-primary/10 rounded-xl flex items-center justify-center">
          <i class="fa-solid fa-cookie-bite text-primary"></i>
        </div>
        <p class="text-sm text-content-muted">
          {% t cookie.banner %}
          <a href="{% tl privacy %}" class="text-primary hover:underline font-medium">{% t cookie.policy %}</a>.
        </p>
      </div>
      <div class="flex items-center gap-3 flex-shrink-0">
        <button onclick="acceptCookies()" class="btn btn-primary">
          {% t cookie.accept %}
        </button>
      </div>
    </div>
  </div>
</div>
