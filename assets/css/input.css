@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap');

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    @apply font-inter text-content bg-surface-muted antialiased;
  }

  html[dir="rtl"] body {
    @apply font-tajawal;
  }

  /* Professional, clean focus states */
  *:focus-visible {
    @apply outline-none ring-2 ring-primary/30 ring-offset-2;
  }
}

@layer components {
  /* Container */
  .container-custom {
    @apply max-w-6xl mx-auto px-5 sm:px-6 lg:px-8;
  }

  /* Buttons - Clean, professional medical style */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-xl font-semibold
           transition-all duration-200 ease-out text-sm tracking-wide
           focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply bg-primary text-white shadow-soft hover:shadow-medium
           hover:bg-primary/90 active:scale-[0.98] focus:ring-primary/40;
  }

  .btn-secondary {
    @apply bg-secondary text-white shadow-soft hover:shadow-medium
           hover:bg-secondary/90 active:scale-[0.98] focus:ring-secondary/40;
  }

  .btn-outline {
    @apply border-2 border-primary text-primary bg-transparent
           hover:bg-primary hover:text-white active:scale-[0.98] focus:ring-primary/40;
  }

  .btn-ghost {
    @apply text-content-muted hover:text-primary hover:bg-surface-subtle
           active:scale-[0.98];
  }

  .btn-white {
    @apply bg-white text-primary shadow-soft hover:shadow-medium
           hover:bg-surface-muted active:scale-[0.98] focus:ring-white/40;
  }

  /* Cards - Elevated, trustworthy feel */
  .card {
    @apply bg-white rounded-2xl shadow-card border border-surface-border/50
           overflow-hidden transition-all duration-300 ease-out;
  }

  .card-hover {
    @apply hover:shadow-card-hover hover:-translate-y-0.5 hover:border-surface-border;
  }

  .card-interactive {
    @apply card card-hover cursor-pointer;
  }

  .card-featured {
    @apply card ring-1 ring-primary/10 shadow-medium;
  }

  /* Form elements - Clean, accessible */
  .form-input {
    @apply w-full px-4 py-3.5 bg-white border border-surface-border rounded-xl
           text-content placeholder:text-content-subtle
           focus:ring-2 focus:ring-primary/20 focus:border-primary
           outline-none transition-all duration-200
           shadow-inner-soft;
  }

  .form-label {
    @apply block mb-2 font-medium text-content text-sm;
  }

  .form-helper {
    @apply mt-1.5 text-xs text-content-subtle;
  }

  .form-group {
    @apply space-y-1.5;
  }

  /* Section layouts */
  .section {
    @apply py-16 md:py-20 lg:py-24;
  }

  .section-sm {
    @apply py-12 md:py-16;
  }

  .section-header {
    @apply text-center mb-12 md:mb-16;
  }

  .section-title {
    @apply text-2xl md:text-3xl lg:text-4xl font-bold text-content mb-4 tracking-tight;
  }

  .section-subtitle {
    @apply text-content-muted text-lg max-w-2xl mx-auto leading-relaxed;
  }

  /* Hero sections - Professional gradient */
  .hero {
    @apply relative overflow-hidden;
  }

  .hero-gradient {
    background: linear-gradient(135deg, #1e5f8a 0%, #164a6c 50%, #2d7d7d 100%);
  }

  .hero-cnss {
    background: linear-gradient(135deg, #1e5f8a 0%, #164a6c 60%, #0f3d5c 100%);
  }

  .hero-cmr {
    background: linear-gradient(135deg, #2d7d7d 0%, #1f5c5c 60%, #164a4a 100%);
  }

  .hero-cnops {
    background: linear-gradient(135deg, #2d6a4f 0%, #1b4332 60%, #143328 100%);
  }

  .hero-content {
    @apply relative z-10 text-center py-16 md:py-24 lg:py-28;
  }

  .hero-title {
    @apply text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-extrabold text-white
           mb-6 leading-tight tracking-tight;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
  }

  .hero-description {
    @apply text-lg md:text-xl max-w-2xl mx-auto leading-relaxed;
    color: rgba(255, 255, 255, 0.95);
  }

  /* Navigation */
  .nav-link {
    @apply px-4 py-2 text-sm font-medium text-footer-text hover:text-white
           transition-colors duration-200 rounded-lg hover:bg-white/5;
  }

  .nav-dropdown {
    @apply absolute top-full left-0 mt-2 w-56 bg-white rounded-xl shadow-elevated
           border border-surface-border opacity-0 invisible
           group-hover:opacity-100 group-hover:visible
           transition-all duration-200 overflow-hidden z-50;
  }

  .nav-dropdown-item {
    @apply block px-4 py-3 text-sm text-content hover:bg-surface-muted
           hover:text-primary font-medium transition-colors duration-150;
  }

  /* Trust badges - Medical/professional indicators */
  .trust-badge {
    @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full
           text-xs font-semibold tracking-wide;
  }

  .trust-badge-primary {
    @apply trust-badge bg-primary/10 text-primary;
  }

  .trust-badge-success {
    @apply trust-badge bg-safe/10 text-safe;
  }

  .trust-badge-info {
    @apply trust-badge bg-trust/10 text-trust;
  }

  /* Feature cards */
  .feature-card {
    @apply card card-hover p-8 text-center;
  }

  .feature-icon {
    @apply w-16 h-16 rounded-2xl flex items-center justify-center mx-auto mb-6
           transition-transform duration-300;
  }

  .feature-title {
    @apply font-bold text-xl text-content mb-3;
  }

  .feature-description {
    @apply text-content-muted leading-relaxed;
  }

  /* News/Article cards */
  .news-card {
    @apply card card-hover overflow-hidden;
  }

  .news-card-image {
    @apply aspect-video bg-surface-subtle flex items-center justify-center
           overflow-hidden;
  }

  .news-card-body {
    @apply p-6;
  }

  .news-card-tag {
    @apply text-xs font-semibold px-2.5 py-1 rounded-full;
  }

  .news-card-title {
    @apply font-bold text-lg text-content mt-3 mb-2
           transition-colors duration-200;
  }

  .news-card-excerpt {
    @apply text-content-muted text-sm mb-4 line-clamp-2;
  }

  /* Simulator cards */
  .simulator-card {
    @apply card card-hover p-8;
  }

  .simulator-card-icon {
    @apply flex-shrink-0 w-16 h-16 rounded-2xl flex items-center justify-center
           transition-transform duration-300;
  }

  /* Info boxes - Medical style callouts */
  .info-box {
    @apply relative overflow-hidden rounded-2xl border-l-4 my-8;
  }

  .info-box-content {
    @apply p-6 md:p-8;
  }

  .info-box-icon {
    @apply flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center;
  }

  /* Alert/Warning boxes */
  .alert {
    @apply p-5 rounded-2xl border flex items-start gap-4;
  }

  .alert-warning {
    @apply alert bg-amber-50 border-amber-200 text-amber-800;
  }

  .alert-info {
    @apply alert bg-primary/5 border-primary/20 text-primary;
  }

  .alert-success {
    @apply alert bg-safe-light border-safe/20 text-safe-dark;
  }

  /* Result cards for simulators */
  .result-card {
    @apply rounded-2xl p-6 text-center transition-all duration-200;
  }

  .result-card-primary {
    @apply result-card bg-primary text-white shadow-medium;
  }

  .result-card-secondary {
    @apply result-card bg-white border border-surface-border shadow-soft;
  }

  /* Share buttons */
  .share-btn {
    @apply w-10 h-10 flex items-center justify-center rounded-full
           bg-surface-subtle text-content-subtle
           hover:text-white transition-all duration-200;
  }

  /* Stats/Numbers */
  .stat-value {
    @apply text-3xl font-bold text-primary;
  }

  .stat-label {
    @apply text-sm text-content-muted mt-1;
  }

  /* Process steps */
  .step-number {
    @apply w-14 h-14 rounded-2xl flex items-center justify-center
           text-xl font-bold text-white mb-6;
  }

  /* Table styles */
  .table-medical {
    @apply w-full border-collapse;
  }

  .table-medical thead {
    @apply bg-surface-subtle;
  }

  .table-medical th {
    @apply px-6 py-4 text-left text-sm font-semibold text-content
           border-b border-surface-border;
  }

  .table-medical td {
    @apply px-6 py-4 text-sm text-content-muted border-b border-surface-border/50;
  }

  .table-medical tr:last-child td {
    @apply border-b-0;
  }

  .table-medical tbody tr:hover {
    @apply bg-surface-muted/50;
  }

  /* Footer */
  .footer-link {
    @apply text-footer-text hover:text-white transition-colors duration-200;
  }

  .footer-heading {
    @apply text-white font-semibold mb-4 text-sm uppercase tracking-wider;
  }

  /* Cookie banner */
  .cookie-banner {
    @apply fixed bottom-0 left-0 right-0 bg-white shadow-elevated
           border-t border-surface-border p-5 z-50;
  }
}

@layer components {
  /* Article/Prose styling */
  .article-content .prose {
    @apply max-w-none;
  }

  .article-content .prose h2 {
    scroll-margin-top: 100px;
  }

  .toc-nav a {
    @apply block py-2 text-sm text-content-subtle hover:text-primary
           transition-colors duration-200 border-l-2 border-transparent
           hover:border-primary pl-4 -ml-px;
  }

  .toc-nav a.active {
    @apply text-primary font-medium border-primary;
  }

  /* Article hero */
  .article-header {
    @apply mb-10 pb-8 border-b border-surface-border;
  }

  .article-meta {
    @apply flex items-center gap-4 text-sm text-content-subtle mb-6;
  }

  .article-title {
    @apply text-3xl md:text-4xl lg:text-5xl font-extrabold text-content
           leading-tight tracking-tight;
  }

  .article-excerpt {
    @apply text-lg md:text-xl text-content-muted mt-4 leading-relaxed;
  }

  /* Back to top link styling */
  .back-link {
    @apply inline-flex items-center gap-2 text-content-muted
           hover:text-primary transition-colors duration-200;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }

  .animate-fade-in {
    animation: fadeIn 0.4s ease-out;
  }

  .animate-slide-up {
    animation: slideUp 0.5s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  @keyframes slideUp {
    from { opacity: 0; transform: translateY(16px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Line clamp utilities */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Glass effect */
  .glass {
    @apply bg-white/80 backdrop-blur-lg;
  }

  .glass-dark {
    @apply bg-footer/90 backdrop-blur-lg;
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
  }

  /* Subtle pattern background */
  .pattern-dots {
    background-image: radial-gradient(circle, currentColor 1px, transparent 1px);
    background-size: 24px 24px;
  }

  /* Medical cross pattern */
  .pattern-medical {
    background-image:
      linear-gradient(to right, currentColor 1px, transparent 1px),
      linear-gradient(to bottom, currentColor 1px, transparent 1px);
    background-size: 40px 40px;
    opacity: 0.03;
  }
}
