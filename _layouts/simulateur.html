---
layout: default
---
{% assign direction = site.language_data[site.lang].direction | default: 'ltr' %}
{% assign org = page.namespace | split: '/' | first %}
{% case org %}
  {% when 'simulateurs' %}{% assign org_colors = 'cnss' %}
  {% when 'cnss' %}{% assign org_colors = 'cnss' %}
  {% when 'cmr' %}{% assign org_colors = 'cmr' %}
  {% when 'cnops' %}{% assign org_colors = 'cnops' %}
  {% else %}{% assign org_colors = 'cnss' %}
{% endcase %}

{% capture hero_title %}{% t {{ page.hero_title_key }} %}{% endcapture %}
{% assign hero_title = hero_title | strip %}

<!-- Hero Section -->
<section class="hero hero-{{ org_colors }} relative overflow-hidden">
  <!-- Gradient overlay -->
  <div class="absolute inset-0 bg-gradient-to-b from-black/5 via-transparent to-black/15"></div>

  <!-- Decorative elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute top-10 {% if direction == 'rtl' %}left-10{% else %}right-10{% endif %} w-48 h-48 bg-white/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-10 {% if direction == 'rtl' %}right-10{% else %}left-10{% endif %} w-32 h-32 bg-white/10 rounded-full blur-2xl"></div>
  </div>

  <div class="container-custom relative z-10 py-12 md:py-16">
    <div class="max-w-2xl mx-auto text-center">
      <!-- Trust badge -->
      <div class="inline-flex items-center gap-2 px-4 py-2 bg-white/15 backdrop-blur-sm rounded-full text-white text-sm mb-6 border border-white/20">
        <i class="fa-solid fa-calculator"></i>
        {% t common.simulator_badge %}
      </div>

      <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-white mb-4 tracking-tight" style="text-shadow: 0 2px 4px rgba(0,0,0,0.15);">
        {{ hero_title }}
      </h1>
      <p class="text-lg leading-relaxed" style="color: rgba(255,255,255,0.95);">
        {% t {{ page.hero_description_key }} %}
      </p>
    </div>
  </div>

  <!-- Bottom wave -->
  <div class="absolute bottom-0 left-0 right-0">
    <svg viewBox="0 0 1440 60" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
      <path d="M0 60V36C240 12 480 0 720 0C960 0 1200 12 1440 36V60H0Z" fill="#f8fafc"/>
    </svg>
  </div>
</section>

<!-- Simulator Content -->
<section class="bg-surface-muted py-8 md:py-12">
  <div class="container-custom">
    <div class="max-w-2xl mx-auto">
      <!-- Main Calculator Card -->
      <div class="card shadow-medium p-6 md:p-10">
        {{ content }}
      </div>

      <!-- Article Link -->
      {% if page.cta_link %}
      <div class="mt-6 card p-5 bg-gradient-to-r from-{{ org_colors }}-light to-white border-l-4 border-{{ org_colors }}">
        <div class="flex items-center gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-{{ org_colors }}/10 rounded-xl flex items-center justify-center">
            <i class="fa-solid fa-book-open text-xl text-{{ org_colors }}"></i>
          </div>
          <div class="flex-1 min-w-0">
            <p class="font-bold text-content text-sm mb-0.5">{% t {{ page.cta_title_key }} %}</p>
            <a href="{% tl {{ page.cta_link }} %}" class="inline-flex items-center text-{{ org_colors }} hover:underline font-medium text-sm">
              {% t {{ page.cta_text_key }} %}
              <i class="fa-solid fa-arrow-{% if direction == 'rtl' %}left{% else %}right{% endif %} {% if direction == 'rtl' %}mr-2{% else %}ml-2{% endif %} text-xs"></i>
            </a>
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Warning Box -->
      <div class="mt-6 alert-warning">
        <div class="flex-shrink-0 w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
          <i class="fa-solid fa-triangle-exclamation text-amber-600"></i>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm leading-relaxed">
            <strong class="font-semibold">{% t common.warning_label %}:</strong>
            {% t {{ page.warning_text_key }} %}
          </p>
          <p class="text-sm mt-2">
            {% t common.official_source %}:
            <a href="{{ page.official_link }}" class="underline hover:no-underline font-medium" target="_blank" rel="noopener">
              {{ page.official_link }}
            </a>
          </p>
        </div>
      </div>

      <!-- Back Link -->
      <div class="mt-8 text-center">
        <a href="{% tl home %}" class="back-link">
          <i class="fa-solid fa-arrow-{% if direction == 'rtl' %}right{% else %}left{% endif %}"></i>
          {% t common.back_to_home %}
        </a>
      </div>
    </div>
  </div>
</section>
